on:
  release:
    types:
      - created

jobs:
  tag:
    runs-on: ubuntu-22.04
    permissions:
      contents: write
    steps:
    - uses: actions/checkout@v4
    - name: delete latest tag
      run: |
        if git tag | grep latest; then
          git tag --delete latest
          git push origin --tag
        fi
    - name: create latest tag
      run: |
        git tag -f latest
        git push origin --tag